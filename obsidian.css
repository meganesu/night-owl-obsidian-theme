/* VARIABLES */

.theme-dark {
  /* Override Obsidian CSS variables */
  --background-modifier-border: #011627; /* workspace-ribbon inner border when collapsed */
  --background-modifier-error: #AB0300F2;
  --background-primary: #011627; /* note background */
  --background-primary-alt: #011627; /* view-header for inactive notes */
  --background-secondary: #011627; /* background for workspace-leaf with tabs  */
  --background-secondary-alt: #011627; /* background for workspace-ribbon and workspace-leaf with tabs (excluding active tab) */
  --interactive-accent: #7e57c2cc; /* background for buttons, etc. */
  --interactive-accent-hover: #7e57c2; /* background for buttons, etc. on hover */
  --scrollbar-active-thumb-bg: #084d8150;
  --scrollbar-bg: #084d8130;
  --scrollbar-thumb-bg: #084d8180;
  --text-accent: #ffeb95; /* backlink text */
  --text-error: #ef5350;
  --text-faint: #4b6479; /* backlink brackets */
  --text-highlight-bg: #1085bb5d; /* Used for matching text in search results */
  --text-muted: #89a4bb; /* sidebar list items, links, calendar dots, etc. */
  --text-normal: #d6deeb; /* default note text */
  --text-selection: #5f7e9779; /* Used for selecting text in note editor */

  /* Custom CSS Variables */
  --background-darken: #00000044;
  --badge-background: #5f7e97;
  --badge-foreground: #ffffff;
  --note-header-inactive: #0b2942;
  --icon-inactive: #5f7e9760;
  --icon-active: #5f7e97;
  --input-range-background: #084d8180;
  --input-range-background-hover: #084d81d0;
  --horizontal-scrollbar: #084d8180;
  --resize-handle-hover: 8, 77, 129;
  --component-border: #5f7e97;
  --input-background: #0b253a;
  --input-foreground: #ffffffcc;
  --list-active-selection-background: #234d708c;
  --text-h1: #ff79c6;
  --text-h2: #82aaff;
  --text-h3: #c5e478;
  --text-h4: #ffb86c;
  --text-h5: #8be9fd;
  --text-h6: #bd93f9;
  --text-h1-size: 2em;
  --text-h2-size: 1.6em;
  --text-h3-size: 1.37em;
  --text-h4-size: 1.25em;
  --text-h5-size: 1.12em;
  --text-h6-size: 1.12em;
  --text-strong: #c5e478;
  --text-italic: #c792ea;
  --text-inline-code: #80cbc4;
  --text-link: #ff869a;
  --text-blockquote-border: #084d81;
}


/* LAYOUT */

/* vertical resize bar between panes */
.workspace-leaf-resize-handle:hover {
  background-color: rgba(var(--resize-handle-hover), 0.5);
}

/* slider bar color */
input[type="range"] {
  background-color: var(--input-range-background);
}
input[type="range"]:active, input[type="range"]:focus, input[type="range"]:hover {
  background-color: var(--input-range-background-hover);
}

/* Badge counters in search results or tags pane */
.tree-item-flair {
  background-color: var(--badge-background);
  color: var(--badge-foreground);
  padding: 2px 6px;
  border-radius: 50px;
}

/* For sidebar icons (equivalent of VS Code Activity Bar) */
.side-dock-ribbon-action {
  color: var(--icon-inactive);
}
.side-dock-ribbon-action:hover {
  color: var(--icon-active);
}

/* When viewing note in edit mode */
.workspace-leaf-content[data-mode="source"] .view-content {
  font-family: "Menlo", "Monaco", "Courier New", monospace; /* Use code editor font */
}

/* For note header (with title) when current note is active */
.workspace-leaf.mod-active .view-header {
  background-color: var(--note-header-inactive);
  border-bottom: 3px solid var(--horizontal-scrollbar)
}

/* for highlighting selected item in a dropdown (like quick switcher) */
.suggestion-item.is-selected {
  background-color: var(--list-active-selection-background);
}
/* for highlighting selected item in the right-click dropdown, kebab dropdown */
.menu-item:hover:not(.is-disabled):not(.is-label) {
  background-color: var(--list-active-selection-background);
}


/* UI ELEMENTS */

/* buttons */
button,
button.copy-code-button {
  background-color: var(--interactive-accent);
  color: var(--input-foreground);
}
button:active, button:focus, button:hover {
  background-color: var(--interactive-accent-hover);
}

/* toast notifications */
.notice {
  background-color: var(--interactive-accent);
  color: var(--input-foreground);
}

/* For toggle switches like in graph filters */
.checkbox-container {
  background-color: var(--input-range-background);
}
.checkbox-container:active, .checkbox-container:focus, .checkbox-container:hover {
  /*
    BUG NOTE: checkboxes aren't currently accessible in the tab order.
    Check the settings popup for the graph view. Only inputs receive focus when tabbing.
  */
  background-color: var(--input-range-background-hover);
}
.checkbox-container:active.is-enabled, .checkbox-container:focus.is-enabled, .checkbox-container:hover.is-enabled {
  /*
    BUG NOTE: checkboxes aren't currently accessible in the tab order.
    Check the settings popup for the graph view. Only inputs receive focus when tabbing.
  */
  background-color: var(--interactive-accent-hover);
}

/* For inputs */
input[type='text'],
input[type='search'],
input[type='email'],
input[type='password'],
input[type='number'] {
  background-color: var(--input-background);
  color: var(--input-foreground);
  border: 1px solid var(--component-border);
  border-radius: 0px;
}
input[type='text']:active,
input[type='search']:active,
input[type='email']:active,
input[type='password']:active,
input[type='number']:active,
input[type='text']:focus,
input[type='search']:focus,
input[type='email']:focus,
input[type='password']:focus,
input[type='number']:focus {
  border: none;
}

input[type='text']:hover,
input[type='search']:hover,
input[type='email']:hover,
input[type='password']:hover,
input[type='number']:hover {
  background-color: var(--input-background);
}

.dropdown {
  background-color: var(--background-primary);
  border: 1px solid var(--component-border);
  border-radius: 0px;
}
.dropdown:focus {
  border: 1px solid var(--component-border);
}


/* GRAPH VIEW */
.graph-view.color-fill { /* nodes */
  color: var(--text-h2)
}
.graph-view.color-fill-unresolved { /* nodes that don't exist yet */
  color: var(--text-muted)
}
.graph-view.color-fill-focused { /* local graph for the current node */
  color: var(--text-h3)
}
.theme-dark .graph-view.color-fill-tag {
  color: var(--text-h4)
}
/* .graph-view.color-arrow, */
.graph-view.color-line {
  color: var(--component-border)
}
.graph-view.color-circle {
  color: var(--interactive-accent);
}
.graph-view.color-fill-highlight,
.graph-view.color-line-highlight {
  color: var(--interactive-accent-hover);
}


/* MARKDOWN */

/* For bold Markdown text */
.cm-strong {
  color: var(--text-strong);
}

/* For italic Markdown text */
.cm-em {
  color: var(--text-italic);
}

/* For inline code */
.cm-s-obsidian span.cm-inline-code,
.markdown-preview-view code {
  color: var(--text-inline-code);
}

/* For code blocks */
.markdown-preview-view pre[class*="language-"] {
  background-color: var(--background-darken);
}

/* For blockquotes */
.markdown-preview-view blockquote {
  background-color: var(--input-background);
  border: none;
  border-left: 8px solid var(--text-blockquote-border);
}

/* external links */
.cm-s-obsidian span.cm-url {
  font-style: italic;
  color: var(--text-link);
}
.external-link {
  color: var(--text-muted);
}

/* headings */
.cm-header-1 {
  color: var(--text-h1);
}
.cm-header-2 {
  color: var(--text-h2);
}
.cm-header-3 {
  color: var(--text-h3);
}
.cm-header-4 {
  color: var(--text-h4);
}
.cm-header-5 {
  color: var(--text-h5);
}
.cm-header-6 {
  color: var(--text-h6);
}

/* for horizontal lines */
.markdown-preview-view hr {
  border-color: var(--text-blockquote-border);
}


/* BUG FIXES */

/* Fix small font when using inline text in note headings */
.cm-s-obsidian span.cm-inline-code {
  font-size: 100%;
}
.cm-s-obsidian span.cm-inline-code.cm-header-1 {
  font-size: var(--text-h1-size);
}
.cm-s-obsidian span.cm-inline-code.cm-header-2 {
  font-size: var(--text-h2-size);
}
.cm-s-obsidian span.cm-inline-code.cm-header-3 {
  font-size: var(--text-h3-size);
}
.cm-s-obsidian span.cm-inline-code.cm-header-4 {
  font-size: var(--text-h4-size);
}
.cm-s-obsidian span.cm-inline-code.cm-header-5 {
  font-size: var(--text-h5-size);
}
.cm-s-obsidian span.cm-inline-code.cm-header-6 {
  font-size: var(--text-h6-size);
}

/* Fix background color when highlighting inline text */
.cm-s-obsidian span.cm-inline-code {
  background: none;
}
.cm-s-obsidian span.cm-inline-code:not(.cm-formatting):not(.cm-hmd-indented-code):not(.obsidian-search-match-highlight) {
  background: none;
}

/* Fix the long-title-obscuring shadows */
.workspace-leaf.mod-active .view-header-title-container:after {
  background: unset;
}
